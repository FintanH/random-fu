<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!--Rendered using the Haskell Html Library v0.2-->
<HTML
><HEAD
><META HTTP-EQUIV="Content-Type" CONTENT="text/html; charset=UTF-8"
><TITLE
>Data.Random.Internal.Primitives</TITLE
><LINK HREF="haddock.css" REL="stylesheet" TYPE="text/css"
><SCRIPT SRC="haddock-util.js" TYPE="text/javascript"
></SCRIPT
><SCRIPT TYPE="text/javascript"
>window.onload = function () {setSynopsis("mini_Data-Random-Internal-Primitives.html")};</SCRIPT
></HEAD
><BODY
><TABLE CLASS="vanilla" CELLSPACING="0" CELLPADDING="0"
><TR
><TD CLASS="topbar"
><TABLE CLASS="vanilla" CELLSPACING="0" CELLPADDING="0"
><TR
><TD
><IMG SRC="haskell_icon.gif" WIDTH="16" HEIGHT="16" ALT=" "
></TD
><TD CLASS="title"
>random-fu-0.1.0.0: Random number generation</TD
><TD CLASS="topbut"
><A HREF="src/Data-Random-Internal-Primitives.html"
>Source code</A
></TD
><TD CLASS="topbut"
><A HREF="index.html"
>Contents</A
></TD
><TD CLASS="topbut"
><A HREF="doc-index.html"
>Index</A
></TD
></TR
></TABLE
></TD
></TR
><TR
><TD CLASS="modulebar"
><TABLE CLASS="vanilla" CELLSPACING="0" CELLPADDING="0"
><TR
><TD
><FONT SIZE="6"
>Data.Random.Internal.Primitives</FONT
></TD
></TR
></TABLE
></TD
></TR
><TR
><TD CLASS="s15"
></TD
></TR
><TR
><TD CLASS="section1"
>Description</TD
></TR
><TR
><TD CLASS="doc"
><P
>This is an experimental interface to support an extensible set of primitives,
 where a RandomSource will be able to support whatever subset of them they want
 and have well-founded defaults generated automatically for any unsupported
 primitives.
</P
><P
>The purpose, in case it's not clear, is to decouple the implementations of
 entropy sources from any particular set of primitives, so that implementors
 of random variates can make use of a large number of primitives, supported
 on all entropy sources, while the burden on entropy-source implementors
 is only to provide one or two basic primitives of their choice.
</P
><P
>One challenge I foresee with this interface is optimization - different 
 compilers or even different versions of GHC may treat this interface 
 radically differently, making it very hard to achieve reliable performance
 on all platforms.  It may even be that no compiler optimizes sufficiently
 to make the flexibility this system provides worth the overhead.  I hope
 this is not the case, but if it turns out to be a major problem, this
 system may disappear or be modified in significant ways.
</P
></TD
></TR
><TR
><TD CLASS="s15"
></TD
></TR
><TR
><TD CLASS="section1"
>Synopsis</TD
></TR
><TR
><TD CLASS="s15"
></TD
></TR
><TR
><TD CLASS="body"
><TABLE CLASS="vanilla" CELLSPACING="0" CELLPADDING="0"
><TR
><TD CLASS="decl"
><TABLE CLASS="vanilla" CELLSPACING="0" CELLPADDING="0"
><TR
><TD CLASS="decl"
><SPAN CLASS="keyword"
>data</SPAN
>  <A HREF="#t%3APrim"
>Prim</A
> a <SPAN CLASS="keyword"
>where</SPAN
></TD
></TR
><TR
><TD CLASS="body"
><TABLE CLASS="vanilla" CELLSPACING="0" CELLPADDING="0"
><TR
><TD CLASS="decl"
><A HREF="#v%3APrimWord8"
>PrimWord8</A
> ::  <A HREF="Data-Random-Internal-Primitives.html#t%3APrim"
>Prim</A
> <A HREF="http://hackage.haskell.org/packages/archive/base/latest/doc/html/Data-Word.html#t%3AWord8"
>Word8</A
></TD
></TR
><TR
><TD CLASS="decl"
><A HREF="#v%3APrimWord16"
>PrimWord16</A
> ::  <A HREF="Data-Random-Internal-Primitives.html#t%3APrim"
>Prim</A
> <A HREF="http://hackage.haskell.org/packages/archive/base/latest/doc/html/Data-Word.html#t%3AWord16"
>Word16</A
></TD
></TR
><TR
><TD CLASS="decl"
><A HREF="#v%3APrimWord32"
>PrimWord32</A
> ::  <A HREF="Data-Random-Internal-Primitives.html#t%3APrim"
>Prim</A
> <A HREF="http://hackage.haskell.org/packages/archive/base/latest/doc/html/Data-Word.html#t%3AWord32"
>Word32</A
></TD
></TR
><TR
><TD CLASS="decl"
><A HREF="#v%3APrimWord64"
>PrimWord64</A
> ::  <A HREF="Data-Random-Internal-Primitives.html#t%3APrim"
>Prim</A
> <A HREF="http://hackage.haskell.org/packages/archive/base/latest/doc/html/Data-Word.html#t%3AWord64"
>Word64</A
></TD
></TR
><TR
><TD CLASS="decl"
><A HREF="#v%3APrimDouble"
>PrimDouble</A
> ::  <A HREF="Data-Random-Internal-Primitives.html#t%3APrim"
>Prim</A
> <A HREF="http://hackage.haskell.org/packages/archive/base/latest/doc/html/Prelude.html#t%3ADouble"
>Double</A
></TD
></TR
><TR
><TD CLASS="decl"
><A HREF="#v%3APrimNByteInteger"
>PrimNByteInteger</A
> ::  !<A HREF="http://hackage.haskell.org/packages/archive/base/latest/doc/html/Data-Int.html#t%3AInt"
>Int</A
> -&gt; <A HREF="Data-Random-Internal-Primitives.html#t%3APrim"
>Prim</A
> <A HREF="http://hackage.haskell.org/packages/archive/base/latest/doc/html/Prelude.html#t%3AInteger"
>Integer</A
></TD
></TR
></TABLE
></TD
></TR
></TABLE
></TD
></TR
><TR
><TD CLASS="s8"
></TD
></TR
><TR
><TD CLASS="decl"
><A HREF="#v%3AdecomposePrimWhere"
>decomposePrimWhere</A
> ::  (<SPAN CLASS="keyword"
>forall</SPAN
> t.  <A HREF="Data-Random-Internal-Primitives.html#t%3APrim"
>Prim</A
> t -&gt; <A HREF="http://hackage.haskell.org/packages/archive/base/latest/doc/html/Data-Bool.html#t%3ABool"
>Bool</A
>) -&gt; <A HREF="Data-Random-Internal-Primitives.html#t%3APrim"
>Prim</A
> a -&gt; <A HREF="http://hackage.haskell.org/packages/archive/MonadPrompt/latest/doc/html/Control-Monad-Prompt.html#t%3APrompt"
>Prompt</A
> <A HREF="Data-Random-Internal-Primitives.html#t%3APrim"
>Prim</A
> a</TD
></TR
></TABLE
></TD
></TR
><TR
><TD CLASS="s15"
></TD
></TR
><TR
><TD CLASS="section1"
>Documentation</TD
></TR
><TR
><TD CLASS="s15"
></TD
></TR
><TR
><TD CLASS="topdecl"
><TABLE CLASS="declbar"
><TR
><TD CLASS="declname"
><SPAN CLASS="keyword"
>data</SPAN
>  <A NAME="t:Prim"
><A NAME="t%3APrim"
></A
></A
><B
>Prim</B
> a <SPAN CLASS="keyword"
>where</SPAN
></TD
><TD CLASS="declbut"
><A HREF="src/Data-Random-Internal-Primitives.html#Prim"
>Source</A
></TD
></TR
></TABLE
></TD
></TR
><TR
><TD CLASS="body"
><TABLE CLASS="vanilla" CELLSPACING="0" CELLPADDING="0"
><TR
><TD CLASS="ndoc"
><P
>A <TT
><A HREF="http://hackage.haskell.org/packages/archive/MonadPrompt/latest/doc/html/Control-Monad-Prompt.html#t%3APrompt"
>Prompt</A
></TT
> GADT describing a request for a primitive random variate.
 Random variable definitions will request their entropy via these prompts,
 and entropy sources will satisfy some or all of them.  The <TT
><A HREF="Data-Random-Internal-Primitives.html#v%3AdecomposePrimWhere"
>decomposePrimWhere</A
></TT
>
 function extends an entropy source's incomplete definition to a complete 
 definition, essentially defining a very flexible implementation-defaulting
 system.
</P
><P
>Some possible future additions:
    PrimFloat :: Prim Float
    PrimInt :: Prim Int
    PrimPair :: Prim a -&gt; Prim b -&gt; Prim (a :*: b)
    PrimNormal :: Prim Double
    PrimChoice :: [(Double :*: a)] -&gt; Prim a
</P
><P
>Unfortunately, I cannot get Haddock to accept my comments about the 
 data constructors, but hopefully they should be reasonably self-explanatory.
</P
></TD
></TR
><TR
><TD CLASS="section4"
>Constructors</TD
></TR
><TR
><TD CLASS="body"
><TABLE CLASS="vanilla" CELLSPACING="1" CELLPADDING="0"
><TR
><TD CLASS="arg"
><A NAME="v:PrimWord8"
><A NAME="v%3APrimWord8"
></A
></A
><B
>PrimWord8</B
> ::  <A HREF="Data-Random-Internal-Primitives.html#t%3APrim"
>Prim</A
> <A HREF="http://hackage.haskell.org/packages/archive/base/latest/doc/html/Data-Word.html#t%3AWord8"
>Word8</A
></TD
><TD CLASS="rdoc"
></TD
></TR
><TR
><TD CLASS="arg"
><A NAME="v:PrimWord16"
><A NAME="v%3APrimWord16"
></A
></A
><B
>PrimWord16</B
> ::  <A HREF="Data-Random-Internal-Primitives.html#t%3APrim"
>Prim</A
> <A HREF="http://hackage.haskell.org/packages/archive/base/latest/doc/html/Data-Word.html#t%3AWord16"
>Word16</A
></TD
><TD CLASS="rdoc"
></TD
></TR
><TR
><TD CLASS="arg"
><A NAME="v:PrimWord32"
><A NAME="v%3APrimWord32"
></A
></A
><B
>PrimWord32</B
> ::  <A HREF="Data-Random-Internal-Primitives.html#t%3APrim"
>Prim</A
> <A HREF="http://hackage.haskell.org/packages/archive/base/latest/doc/html/Data-Word.html#t%3AWord32"
>Word32</A
></TD
><TD CLASS="rdoc"
></TD
></TR
><TR
><TD CLASS="arg"
><A NAME="v:PrimWord64"
><A NAME="v%3APrimWord64"
></A
></A
><B
>PrimWord64</B
> ::  <A HREF="Data-Random-Internal-Primitives.html#t%3APrim"
>Prim</A
> <A HREF="http://hackage.haskell.org/packages/archive/base/latest/doc/html/Data-Word.html#t%3AWord64"
>Word64</A
></TD
><TD CLASS="rdoc"
></TD
></TR
><TR
><TD CLASS="arg"
><A NAME="v:PrimDouble"
><A NAME="v%3APrimDouble"
></A
></A
><B
>PrimDouble</B
> ::  <A HREF="Data-Random-Internal-Primitives.html#t%3APrim"
>Prim</A
> <A HREF="http://hackage.haskell.org/packages/archive/base/latest/doc/html/Prelude.html#t%3ADouble"
>Double</A
></TD
><TD CLASS="rdoc"
></TD
></TR
><TR
><TD CLASS="arg"
><A NAME="v:PrimNByteInteger"
><A NAME="v%3APrimNByteInteger"
></A
></A
><B
>PrimNByteInteger</B
> ::  !<A HREF="http://hackage.haskell.org/packages/archive/base/latest/doc/html/Data-Int.html#t%3AInt"
>Int</A
> -&gt; <A HREF="Data-Random-Internal-Primitives.html#t%3APrim"
>Prim</A
> <A HREF="http://hackage.haskell.org/packages/archive/base/latest/doc/html/Prelude.html#t%3AInteger"
>Integer</A
></TD
><TD CLASS="rdoc"
></TD
></TR
></TABLE
></TD
></TR
><TR
><TD CLASS="section4"
><IMG SRC="minus.gif" CLASS="coll" ONCLICK="toggle(this,'i:Prim')" ALT="show/hide"
> Instances</TD
></TR
><TR
><TD CLASS="body"
><DIV ID="i:Prim" STYLE="display:block;"
><TABLE CLASS="vanilla" CELLSPACING="1" CELLPADDING="0"
><TR
><TD CLASS="decl"
><A HREF="http://hackage.haskell.org/packages/archive/base/latest/doc/html/Data-Typeable.html#t%3ATypeable1"
>Typeable1</A
> <A HREF="Data-Random-Internal-Primitives.html#t%3APrim"
>Prim</A
></TD
></TR
><TR
><TD CLASS="decl"
><A HREF="http://hackage.haskell.org/packages/archive/base/latest/doc/html/Text-Show.html#t%3AShow"
>Show</A
> (<A HREF="Data-Random-Internal-Primitives.html#t%3APrim"
>Prim</A
> a)</TD
></TR
></TABLE
></DIV
></TD
></TR
></TABLE
></TD
></TR
><TR
><TD CLASS="s15"
></TD
></TR
><TR
><TD CLASS="topdecl"
><TABLE CLASS="declbar"
><TR
><TD CLASS="declname"
><A NAME="v:decomposePrimWhere"
><A NAME="v%3AdecomposePrimWhere"
></A
></A
><B
>decomposePrimWhere</B
> ::  (<SPAN CLASS="keyword"
>forall</SPAN
> t.  <A HREF="Data-Random-Internal-Primitives.html#t%3APrim"
>Prim</A
> t -&gt; <A HREF="http://hackage.haskell.org/packages/archive/base/latest/doc/html/Data-Bool.html#t%3ABool"
>Bool</A
>) -&gt; <A HREF="Data-Random-Internal-Primitives.html#t%3APrim"
>Prim</A
> a -&gt; <A HREF="http://hackage.haskell.org/packages/archive/MonadPrompt/latest/doc/html/Control-Monad-Prompt.html#t%3APrompt"
>Prompt</A
> <A HREF="Data-Random-Internal-Primitives.html#t%3APrim"
>Prim</A
> a</TD
><TD CLASS="declbut"
><A HREF="src/Data-Random-Internal-Primitives.html#decomposePrimWhere"
>Source</A
></TD
></TR
></TABLE
></TD
></TR
><TR
><TD CLASS="doc"
><P
>This is essentially a suite of interrelated default implementations,
 each definition making use of only &quot;supported&quot; primitives.  It _really_
 ought to be inlined to the point where the <TT
>supported</TT
> predicate
 is able to be inlined into it and eliminated.  
</P
><P
>When inlined sufficiently, it should in theory be optimized down to the
 static set of <A HREF="best.html"
>best</A
> definitions for each required primitive in terms of 
 only supported primitives.
</P
><P
>Hopefully, when not inlined, it does not impose too much overhead.
</P
></TD
></TR
><TR
><TD CLASS="s15"
></TD
></TR
><TR
><TD CLASS="botbar"
>Produced by <A HREF="http://www.haskell.org/haddock/"
>Haddock</A
> version 2.6.0</TD
></TR
></TABLE
></BODY
></HTML
>
